<!DOCTYPE html>
<html>
<head>
  <meta charset='utf-8' />
  <meta http-equiv="X-UA-Compatible" content="chrome=1" />
  <meta name="description" content="V2EX 通知推送" />
  <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">
  <title>V2EX 通知推送</title>
</head>
<body>
  <!-- HEADER -->
  <div id="header_wrap" class="outer">
    <header class="inner">
      <a id="forkme_banner" href="https://gist.github.com/3737374">View on Gist</a>
      <h1 id="project_title">V2EX 通知推送 v1.0</h1>
      <h2 id="project_tagline">利用HTML5 通知API来推送 V2EX 回复提醒</h2>
    </header>
  </div>
  <!-- MAIN CONTENT -->
  <div id="main_content_wrap" class="outer">
    <section id="main_content" class="inner">
      <h3>使用方法：</h3>
      <p>
        <a href="javascript:void(function(){var%20d%20=%20document,a%20=%20'setAttribute',s%20=%20d.createElement('script');s[a]('tyle','text/javascript');s[a]('src','http://hzlzh.github.com/project/v2ex-notification/v2ex-notification.js');d.head.appendChild(s);})();" title="V2EX 通知推送">V2EX 通知推送</a>
        &lt;&mdash; 拖拽到收藏栏
      </p>
      <p>或者复制下面的内容存到收藏。</p>
      <textarea readonly="readonly"  onmouseover="this.select()" onfocus="this.select()">javascript:void(function(){var%20d%20=%20document,a%20=%20'setAttribute',s%20=%20d.createElement('script');s[a]('tyle','text/javascript');s[a]('src','http://hzlzh.github.com/project/v2ex-notification/v2ex-notification.js');d.head.appendChild(s);})();</textarea>
      <p>
        源码：
        <a href="https://gist.github.com/3737374" target="_blank">https://gist.github.com/3737374</a>
      </p>
      <h3>注意事项：</h3>
      <ul>
        <li>登录并打开V2EX提醒页面：<a href="http://www.v2ex.com/notifications" target="_blank">http://www.v2ex.com/notifications</a>
        </li>
        <li>点击已经收藏的书签执行，程序会自动抓取到`页脚的`XML地址</li>
        <li>*首次* 使用需要点击准许浏览器使用HTML5 推送API</li>
        <li>注：Chrome默认就有HTML 5 通知功能，Firefox需要安装一个插件
          <a href="https://addons.mozilla.org/en-us/firefox/addon/html-notifications/" target="_blank">HTML Desktop Notifications 1.0.7</a>
        </li>
      </ul>
      <h3>进阶使用：</h3>
      <ul>
        <li>使用
          <code>Mac 10.8</code>
          以上的同学可以将浏览器的通知进一步push到Mac OS自带的通知中心
        </li>
        <li>Chrome 原生支持</li>
        <li>FF 需要经过
          <a href="http://growl.info/" target="_blank">Growl</a>
          的配置
        </li>
        <li>当然，如果你够折腾，用 <a href="http://www.prowlapp.com/" target="_blank">Prowl</a> 推送到iOS设备也是可以的，自己搞吧</li>
      </ul>
      <h3>补充：</h3>
      <ul>
        <li>Firefox / Chrome 测试可用，IE绕道~</li>
        <li>使用时可以打开 Firebug 或 Chrome 元素查看器 的Console查看执行情况</li>
        <li>任何问题反馈 V2EX ->
          <a href="http://www.v2ex.com/t/47938" target="_blank">#47938</a>
          | 
          Twitter ->
          <a href="https://twitter.com/hzlzh" target="_blank">@hzlzh</a>
        </li>
      </ul>
      <p>感谢 V2EX上@zythum 同学的图床程序，又好用，也给了本程序布局的参考。</p>
      <p>本程序只是闲来HTML5练手，方便小众，有待完善。</p>
      <h3>使用截图：</h3>
      <p>首次点击书签后会出现下图按钮</p>
      <img src="./images/s3.png" alt="火狐下使用截图">
      <p>火狐下使用截图</p>
      <img src="./images/s1.png" alt="火狐下使用截图">
      <p>Chrome下使用截图</p>
      <img src="./images/s2.png" alt="Chrome下使用截图">
      <h3>程序思路：</h3>
      <p>使用V2EX自带 jQuery Ajax 同域请求 XML 文件，之后解析此文件，保存当前时间戳。设置守护程序每 5秒运行一次，发现时间戳改变即 Push 最新一条回复到 浏览器的通知API</p>
      </section>
  </div>
  <!-- FOOTER  -->
  <div id="footer_wrap" class="outer">
    <footer class="inner">
      <p>
        Published with
        <a href="http://pages.github.com">GitHub Pages</a>
        by
        <a href="https://twitter.com/hzlzh" target="_blank">@hzlzh</a>
      </p>
    </footer>
  </div>
  <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
  <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-30050785-2");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>
</body>
</html>